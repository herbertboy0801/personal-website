# 单词拼图游戏开发计划

## 1. 项目结构

*   在 `project6` 目录下创建 `wordle_game.html` 文件。
*   所有HTML、CSS和JavaScript代码都将包含在这个文件中。

## 2. 核心游戏逻辑

*   **单词选择：**
    *   维护多个单词库（英文4-7字母，中文成语）。
    *   根据难度和主题选择目标单词。
    *   实现每日更换目标单词的逻辑（基于日期）。
*   **猜测处理：**
    *   获取玩家输入。
    *   验证输入是否为有效单词。
    *   比较猜测单词与目标单词，生成颜色提示。
    *   更新游戏状态（剩余尝试次数，游戏是否结束）。
*   **颜色提示逻辑：**
    *   绿色：字母正确且位置正确。
    *   黄色：字母正确但位置错误。
    *   灰色：单词中不包含该字母。

## 3. 游戏界面

*   **HTML结构：**
    *   游戏网格（用于显示猜测的字母）。
    *   虚拟键盘。
    *   游戏设置面板。
    *   统计与分享面板。
    *   辅助功能（定义查询、提示、规则）。
    *   胜利/失败弹窗。
*   **CSS样式：**
    *   简洁现代的设计风格。
    *   响应式布局，适应移动端和桌面端。
    *   字母方块的颜色（绿色、黄色、灰色）。
    *   虚拟键盘按键的颜色更新。
    *   高对比度和色盲友好模式的样式切换。
*   **JavaScript交互：**
    *   动态生成游戏网格和虚拟键盘。
    *   处理键盘输入（物理键盘和虚拟键盘）。
    *   动画效果（字母翻转、胜利/失败提示）。

## 4. 游戏设置

*   **难度选择：**
    *   下拉菜单或按钮组选择单词长度（4-7个字母）。
    *   更新游戏逻辑以匹配新的单词长度。
*   **主题选择：**
    *   下拉菜单或按钮组选择单词类别（常见词、动物、国家等）。
    *   根据主题加载不同的单词库。
*   **中英文模式切换：**
    *   切换按钮。
    *   切换单词库和游戏逻辑（英文单词 vs. 中文成语）。
*   **高对比度和色盲友好模式：**
    *   切换按钮。
    *   动态修改CSS变量或添加/移除CSS类。

## 5. 辅助功能

*   **单词定义查询：**
    *   在游戏胜利或失败后，显示目标单词的定义。
    *   可以考虑使用内置的简单定义，或预留接口未来集成外部API（但目前不依赖外部API）。
*   **有效单词检查：**
    *   在玩家输入猜测后，检查单词是否在有效单词库中。
    *   如果无效，给出提示。
*   **提示功能：**
    *   按钮触发。
    *   随机揭示一个未猜对的字母及其位置。
    *   限制提示使用次数。
*   **游戏规则和示例教程：**
    *   模态框或单独页面显示游戏规则。

## 6. 统计与分享

*   **数据存储：**
    *   使用 `localStorage` 存储游戏统计数据（胜率、连胜、猜测分布）。
*   **统计显示：**
    *   图表展示猜测分布。
    *   显示胜率和连胜次数。
*   **分享功能：**
    *   生成文本或图案，复制到剪贴板，不剧透答案。

## 7. 扩展模式

*   **无限模式：**
    *   移除每日一词限制，玩家可以持续玩。
*   **计时挑战：**
    *   添加计时器。
    *   在规定时间内完成猜测。
*   **双人对战模式：**
    *   需要更复杂的逻辑，可能涉及状态同步。
    *   初期版本可以简化为本地双人轮流猜词。
*   **成语接龙模式：**
    *   中文模式下的特殊玩法，需要额外的成语接龙逻辑。

## 技术栈

*   **HTML5：** 页面结构
*   **CSS3：** 样式和动画
*   **JavaScript (ES6+)：** 游戏逻辑和交互

## Mermaid流程图

```mermaid
graph TD
    A[开始游戏] --> B{选择模式/设置};
    B -- 每日一词 --> C[选择今日单词];
    B -- 无限模式 --> D[随机选择单词];
    C --> E[显示游戏网格和键盘];
    D --> E;
    E --> F{玩家输入猜测};
    F -- 有效单词 --> G[检查猜测];
    F -- 无效单词 --> H[提示无效单词];
    H --> F;
    G -- 字母颜色提示 --> I[更新网格和键盘颜色];
    I --> J{游戏结束?};
    J -- 胜利 --> K[显示胜利动画/统计];
    J -- 失败 --> L[显示失败动画/统计];
    J -- 继续 --> F;
    K --> M[显示单词定义/分享];
    L --> M;
    M --> N[新游戏/返回主菜单];